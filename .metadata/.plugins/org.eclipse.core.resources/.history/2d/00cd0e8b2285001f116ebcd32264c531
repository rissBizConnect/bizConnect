<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<html>
<head>
    <title>퇴직자 목록</title>
</head>
<body>
    <h1>퇴직자 목록</h1>
    <table border="1">
        <thead>
            <tr>
                <th>퇴직자 사번</th>
                <th>사원 ID</th>
                <th>퇴사일</th>
                <th>비고</th>
                <th>총 근무일</th>
                <th>수정</th>
                <th>삭제</th>
                <th>사원으로 변환</th>
            </tr>
        </thead>
        <tbody>
            <c:forEach var="retiree" items="${retireeList}">
                <tr>
                    <td>${retiree.retireNo}</td>
                    <td>${retiree.gid}</td>
                    <td>${retiree.retireDate}</td>
                    <td>${retiree.comments}</td>
                    <td>${retiree.totalWorkDays}</td>
                    <td>
                        <form action="/retiree/modify" method="post">
                            <input type="hidden" name="retireNo" value="${retiree.retireNo}"/>
                            <input type="text" name="comments" value="${retiree.comments}"/>
                            <input type="date" name="retireDate" value="${retiree.retireDate}"/>
                            <input type="submit" value="수정"/>
                        </form>
                    </td>
                    <td>
                        <form action="/retiree/delete/${retiree.retireNo}" method="post">
                            <input type="submit" value="삭제"/>
                        </form>
                    </td>
                    <td>
                        <form action="/retiree/convert/${retiree.retireNo}" method="post">
                            <input type="hidden" name="gid" value="${retiree.gid}"/>
                            <input type="hidden" name="comCode" value="${retiree.comCode}"/>
                            <input type="submit" value="사원으로 변환"/>
                        </form>
                    </td>
                </tr>
            </c:forEach>
        </tbody>
    </table>

    <h2>퇴직자 추가</h2>
    <form action="/retiree/add" method="post">
        <input type="text" name="gid" placeholder="사원 ID" required/>
        <input type="text" name="comCode" placeholder="회사 코드" required/>
        <input type="date" name="retireDate" required/>
        <input type="text" name="comments" placeholder="비고"/>
        <input type="submit" value="추가"/>
    </form>
</body>
</html>