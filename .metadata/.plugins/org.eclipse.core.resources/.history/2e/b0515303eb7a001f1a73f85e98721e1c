<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
 "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">
<!-- namespace (이름공간) == 패키지와 같음 : 매퍼 영역에 이름을 붙여준 것으로 이해하면 됨 -->

	<resultMap type="Notice" id="resultNotice">
		<result property="noticeNo" column="NOTICENO" />
		<result property="noticeTitle" column="NOTICETITLE" />
		<result property="noticeDate" column="NOTICEDATE" />
		<result property="noticeWriter" column="NOTICEWRITER" />
		<result property="noticeContent" column="NOTICECONTENT" />
		<result property="originalFilePath" column="ORIGINAL_FILEPATH" />
		<result property="renameFilePath" column="RENAME_FILEPATH" />
		<result property="importance" column="IMPORTANCE" />
		<result property="impEndDate" column="IMP_END_DATE" />
		<result property="readCoun" column="READCOUNT" />
	</resultMap>

	<!-- 최근 등록된 마지막 공지글 한 개 조회용 -->
	<select id="selectLast" resultMap="resultNotice">
		select * from notice
		where noticeno = (select max(noticeno) from notice)
	</select>
	
	<!-- 공지 제목 검색용 쿼리 -->
	<select id="selectSearchTitleKeyword" parameterType="string" resultMap="resultNotice">
		select * from notice
		where noticetitle like '%' ||'#{keyword}' || '%'
		order by importance desc, noticeno desc
	</select>
	
</mapper>
